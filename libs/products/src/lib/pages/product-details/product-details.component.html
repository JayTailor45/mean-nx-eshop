<div class="product-page">
  @if (isLoading) {
    <div class="flex align-items-center justify-content-center h-full">
      <p-progressSpinner></p-progressSpinner>
    </div>
  } @else {
    <div class="grid" *ngIf="product">
      <div class="col-6">
        <p-carousel
          [value]="product.images || []"
          [numVisible]="1">
          <ng-template let-image pTemplate="item">
            <div class="border-1 surface-border border-round m-2 p-3">
              <div class="mb-3">
                <div class="relative mx-auto">
                  <img [src]="image"
                       alt="product image"
                       class="w-full border-round" />
                </div>
              </div>
            </div>
          </ng-template>
        </p-carousel>
      </div>
      <div class="col-6 product">
        <h2 class="product-name"> {{ product.name }} </h2>
        <p class="product-desc">{{ product.description }}</p>
        <div class="product-rating">
          <p-rating [(ngModel)]="product.rating" [disabled]="true" [cancel]="false" />
        </div>
        <div class="product-price">
          {{ +(product.price || 0) | currency }}
          <span class="price-before"></span>
        </div>
        <div class="product-quantity">
          <div class="field">
            <label for="quantity">Quantity</label>
            <br />
            <p-inputNumber [(ngModel)]="quantity"
                           [mode]="'decimal'"
                           [showButtons]="true"
                           [min]="1"
                           inputId="quantity"
            />
          </div>
        </div>
        <div class="product-actions">
          <p-button label="Buy Now" [rounded]="true" styleClass="mr-2" />
          <p-button label="Add to Cart" [rounded]="true" (onClick)="addToCart()" />
        </div>
      </div>
    </div>
    <div class="grid product-rich-desc">
      <div class="col-12">
        <div [innerHTML]="product.richDescription"></div>
      </div>
    </div>
  }
</div>
